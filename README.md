# nhis-macro-core

## 프로젝트 개요

`nhis-macro-core`는 **보험 청구 업무를 보조하기 위한 반자동(semi-automated) 워크플로우 프레임워크**입니다.  
이 저장소는 엑셀 기반 입력 데이터와 사용자 사전 준비 상태를 전제로,  
**청구 업무의 처리 흐름과 실행 경계**를 정의하는 코어 레이어를 제공합니다.

본 저장소는 실제 시스템 조작, 로그인 처리, 자동 입력(매크로) 로직을 포함하지 않으며,  
구체적인 자동화 구현은 별도의 엔진 레이어에서 이루어지도록 설계되었습니다.

---

## 전체 동작 개념

본 프레임워크는 다음과 같은 전제를 기반으로 설계되었습니다.

- 사용자는 사전에:
  - 환자 정보 엑셀 파일
  - 병원 정보 엑셀 파일
  - 환자별 첨부 파일들을  
    **정해진 폴더 구조**로 로컬 PC에 준비합니다.
- 사용자는 보험 청구 시스템에 **직접 로그인**한 상태에서 프로그램을 실행합니다.
- 본 시스템은 청구 프로세스 중 **“저장” 단계까지만 자동화**를 지원합니다.
- 최종 점검 및 제출은:
  - 별도의 단순 매크로
  - 또는 사용자의 수기 확인 및 제출  
  중 선택적으로 수행됩니다.

---

## 설계 철학 (Design Philosophy)

### 1. 반자동(Human-in-the-loop) 구조

- 모든 청구 처리는 사용자 준비 상태를 전제로 실행됩니다.
- 로그인, 인증서 선택, 최종 제출 행위는 자동화 대상에서 **의도적으로 제외**됩니다.
- 시스템은 입력과 저장을 보조할 뿐, 최종 의사결정을 대체하지 않습니다.

### 2. 책임 분리

- 본 코어 프레임워크는 보험 청구 결과에 대한 판단이나 책임을 지지 않습니다.
- 실제 업무 결과 및 법적 책임은 전적으로 사용자에게 있습니다.
- 자동화 범위는 명확한 단계 경계로 제한됩니다.

### 3. 경계 기반 아키텍처

- 워크플로우 제어(core)
- 실제 자동 입력 및 화면 조작(engine)
- 병원별 설정 및 규칙(config)  
을 명확히 분리하여 설계합니다.

---

## 이 저장소에 포함된 것

- 전체 처리 흐름을 정의하는 워크플로우 구조
- 단계(Step) 기반 실행 모델
- 검증, 자동화, 로깅을 위한 **추상 인터페이스**
- 실행 단계 간 전이 및 실패 처리 구조
- 아키텍처 및 설계 의사결정 문서

---

## 이 저장소에 포함되지 않은 것

다음 항목들은 본 저장소에 **의도적으로 포함되지 않습니다.**

- 실제 보험 시스템 화면 조작(매크로) 코드
- 로그인, 인증서 선택, 비밀번호 처리 로직
- 실무용 청구 규칙 및 통과 조건
- 특정 보험 시스템에 종속된 필드 매핑 정보
- 개인정보 저장, DB, 서버 통신 기능
- 즉시 사용 가능한 배포용 애플리케이션

본 저장소의 코드만으로는 실제 보험 청구 업무를 수행할 수 없습니다.

---

## 워크플로우 범위 정의

본 코어 프레임워크는 다음과 같은 단계 흐름을 전제로 합니다.

```text
LOAD_INPUT_FILES
 → PRE_VALIDATE
 → USER_CONFIRM
 → AUTO_INPUT
 → SAVE_ONLY
 → RESULT_LOG
```
- SAVE_ONLY 단계까지만 자동화 범위에 포함됩니다.
- 제출(SUBMIT) 단계는 본 프로젝트의 범위를 벗어납니다.

---

## 저장소 구조
```text
workflow/     # 워크플로우 흐름 및 상태 전이 정의
interfaces/   # 검증, 자동화, 로깅을 위한 추상 인터페이스
docs/         # 설계 의사결정 및 아키텍처 문서
```

---

## 개인정보 및 보안 원칙
- 본 프로젝트는 개인정보를 저장하거나 외부로 전송하지 않습니다.
- 엑셀 파일 및 첨부 파일은 사용자 로컬 환경에만 존재합니다.
- 로그에는 개인 식별 정보가 기록되지 않도록 설계됩니다.
- 본 프레임워크는 개인정보 처리 시스템이 아닌 입력 보조 도구를 지향합니다.

---

## 라이선스
본 프로젝트는 MIT License 하에 배포됩니다.
- 자유로운 사용, 수정, 배포, 상업적 이용이 가능합니다.
- 단, 저작권 표시 및 라이선스 문구는 유지되어야 합니다.
- 본 소프트웨어는 어떠한 보증도 제공하지 않습니다.

---

## 면책 조항 (Disclaimer)
- 본 저장소는 아키텍처 및 개발 참고 목적으로 제공됩니다.
- 완성형 보험 청구 시스템이 아니며,
- 관련 법령·규정·약관 준수에 대한 책임은 사용자에게 있습니다.

---


